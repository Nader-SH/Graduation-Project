مشروع نظام إدارة المساعدات الخيرية
===============================

مقدمة:
-------
مشروعنا هو نظام إدارة المساعدات الخيرية، وهو منصة تهدف إلى تسهيل عملية تقديم المساعدات وتوزيعها بشكل منظم وشفاف. 

الجزء التقني (Backend):
-----------------------
في البداية، قمنا ببناء الباك إند (الخادم) باستخدام Node.js و Express.js، وهي تقنيات حديثة وقوية لبناء تطبيقات الويب. 

لماذا اخترنا هذه التقنيات؟
- سريعة وفعالة في معالجة الطلبات
- تدعم العمل بشكل متزامن
- لديها مجتمع كبير ومكتبات كثيرة
- سهلة في التطوير والصيانة

قاعدة البيانات:
--------------
استخدمنا PostgreSQL كقاعدة بيانات علائقية، وهي من أقوى قواعد البيانات مفتوحة المصدر. 

مميزات PostgreSQL:
- تدعم البيانات المعقدة والعلاقات
- آمنة وموثوقة
- تدعم المعاملات المتزامنة
- مناسبة للمشاريع الكبيرة

للتواصل مع قاعدة البيانات، استخدمنا Sequelize كـ ORM (Object-Relational Mapping)، مما سهل علينا:
- كتابة استعلامات قاعدة البيانات بشكل أسهل
- إدارة العلاقات بين الجداول
- التحقق من صحة البيانات
- حماية التطبيق من هجمات SQL Injection

الأمان:
-------
اهتممنا كثيراً بجانب الأمان في المشروع، حيث قمنا بتنفيذ:
- نظام مصادقة قوي باستخدام JWT (JSON Web Tokens)
- تشفير كلمات المرور باستخدام bcrypt
- حماية من هجمات XSS و CSRF
- نظام صلاحيات متعدد المستويات (Admin, Donor, Recipient)

الميزات الرئيسية:
----------------
1. نظام المستخدمين:
   - تسجيل دخول آمن
   - إدارة الملفات الشخصية
   - استعادة كلمة المرور
   - التحقق من البريد الإلكتروني

2. نظام الطلبات:
   - تقديم طلبات المساعدة
   - متابعة حالة الطلبات
   - إدارة وتوزيع المساعدات
   - تقارير وإحصائيات

3. نظام التبرعات:
   - إدارة التبرعات
   - متابعة المدفوعات
   - تقارير مالية
   - إدارة المصروفات

4. نظام المحادثات:
   - تواصل مباشر بين المتبرعين والمستفيدين
   - إدارة المحادثات
   - إرسال الملفات والصور

5. نظام الإشعارات:
   - إشعارات فورية
   - إشعارات بالبريد الإلكتروني
   - تتبع التحديثات

التقنيات والأدوات المستخدمة:
---------------------------
1. تقنيات الباك إند الأساسية:
   - Node.js: بيئة تشغيل JavaScript على الخادم
   - Express.js: إطار عمل لبناء تطبيقات الويب
   - PostgreSQL: قاعدة بيانات علائقية قوية
   - Sequelize: ORM للتعامل مع قاعدة البيانات

2. أدوات الأمان:
   - JWT (jsonwebtoken): لإدارة المصادقة
   - bcrypt: لتشفير كلمات المرور
   - cors: لحماية التطبيق من هجمات Cross-Origin
   - helmet: لتأمين رؤوس HTTP
   - rate-limiter: للتحكم في عدد الطلبات

3. أدوات التحقق والتحقق من الصحة:
   - Joi: للتحقق من صحة البيانات المدخلة
   - express-validator: للتحقق من الطلبات
   - sanitize-html: لتنظيف المدخلات من HTML الضار

4. أدوات التعامل مع الملفات:
   - multer: لرفع الملفات
   - sharp: لمعالجة الصور
   - fs-extra: للتعامل مع نظام الملفات

5. أدوات البريد الإلكتروني:
   - nodemailer: لإرسال البريد الإلكتروني
   - handlebars: لتصميم قوالب البريد

6. أدوات التسجيل والمراقبة:
   - winston: لتسجيل الأحداث
   - morgan: لتسجيل طلبات HTTP
   - debug: للتتبع أثناء التطوير

7. أدوات التطوير:
   - nodemon: لإعادة تشغيل الخادم تلقائياً
   - dotenv: لإدارة متغيرات البيئة
   - compression: لضغط الاستجابات
   - cookie-parser: للتعامل مع الكوكيز

8. أدوات الاختبار:
   - Jest: لإجراء الاختبارات
   - Supertest: لاختبار API
   - Faker: لإنشاء بيانات وهمية للاختبار

9. أدوات التوثيق:
   - Swagger: لتوثيق API
   - JSDoc: لتوثيق الكود

10. أدوات الأداء:
    - compression: لضغط الاستجابات
    - express-rate-limit: للتحكم في معدل الطلبات
    - cache-manager: للتخزين المؤقت

11. أدوات التطوير الإضافية:
    - ESLint: لفحص جودة الكود
    - Prettier: لتنسيق الكود
    - Husky: لإدارة Git hooks

12. مكتبات مساعدة:
    - moment: للتعامل مع التواريخ
    - uuid: لإنشاء معرفات فريدة
    - lodash: لأدوات JavaScript مفيدة

13. أدوات التكامل:
    - Axios: للطلبات HTTP
    - Socket.io: للتواصل في الوقت الفعلي
    - Redis: للتخزين المؤقت

14. أدوات النشر:
    - PM2: لإدارة عمليات Node.js
    - Docker: لتجميع التطبيق
    - GitHub Actions: للتكامل المستمر

15. أدوات المراقبة:
    - Sentry: لمراقبة الأخطاء
    - New Relic: لمراقبة الأداء
    - Loggly: لتجميع السجلات

التحديات والحلول:
----------------
التحديات التي واجهتنا:
1. ضمان أمان البيانات الحساسة
2. التعامل مع العمليات المتزامنة
3. تحسين أداء التطبيق
4. إدارة العلاقات المعقدة بين البيانات

الحلول التي طبقناها:
1. استخدام أفضل ممارسات الأمان
2. تنفيذ نظام تخزين مؤقت
3. تحسين استعلامات قاعدة البيانات
4. استخدام المعاملات في العمليات الحساسة

المستقبل:
--------
نخطط لتطوير المشروع بإضافة:
- دعم المدفوعات الإلكترونية
- تطبيق موبايل
- تحليلات متقدمة
- دعم اللغات المتعددة

الخاتمة:
--------
هذا المشروع يمثل خطوة مهمة في مجال العمل الخيري الرقمي، حيث يساعد في:
- زيادة الشفافية
- تحسين الكفاءة
- توسيع نطاق المساعدات
- تسهيل التواصل بين المتبرعين والمستفيدين

كل هذه التقنيات تم اختيارها بعناية لتتناسب مع متطلبات المشروع وتضمن:
- أمان البيانات
- أداء عالي
- قابلية للتوسع
- سهولة الصيانة
- تجربة مستخدم سلسة

إعداد المشروع:
-------------
1. نسخ المستودع:
```bash
git clone https://github.com/your-username/Graduation-Project.git
```

2. تثبيت اعتماديات الباك إند:
```bash
cd Graduation-Project/server
npm install
```

3. تثبيت اعتماديات الفرونت إند:
```bash
cd ../client
npm install
```

4. إعداد متغيرات البيئة:
```bash
# إنشاء ملف .env من المثال
cp .env.example .env
```

ثم قم بتحديث ملف `.env` بإعداداتك:

```env
# إعدادات الخادم
PORT=5000
NODE_ENV=development

# إعدادات قاعدة البيانات
DB_HOST=localhost
DB_PORT=5432
DB_NAME=graduation_project
DB_USER=postgres
DB_PASSWORD=your_password

# إعدادات JWT
JWT_SECRET=your_jwt_secret_key
JWT_EXPIRES_IN=24h
JWT_REFRESH_SECRET=your_refresh_token_secret
JWT_REFRESH_EXPIRES_IN=7d

# إعدادات البريد الإلكتروني (لإعادة تعيين كلمة المرور والتحقق)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your_email@gmail.com
SMTP_PASS=your_email_app_password
EMAIL_FROM=your_email@gmail.com

# إعدادات رفع الملفات
UPLOAD_PATH=uploads
MAX_FILE_SIZE=5242880 # 5MB بالبايت

# إعدادات تحديد معدل الطلبات
RATE_LIMIT_WINDOW_MS=60000 # دقيقة واحدة
RATE_LIMIT_MAX_REQUESTS=100 # طلب في النافذة

# إعدادات CORS
CORS_ORIGIN=http://localhost:3000

# إعدادات التسجيل
LOG_LEVEL=debug

# إعدادات الأمان
BCRYPT_SALT_ROUNDS=10

# اختياري: إعدادات Redis (إذا كنت تستخدم Redis للتخزين المؤقت)
# REDIS_HOST=localhost
# REDIS_PORT=6379
# REDIS_PASSWORD=

# اختياري: إعدادات AWS (إذا كنت تستخدم خدمات AWS)
# AWS_ACCESS_KEY_ID=your_aws_access_key
# AWS_SECRET_ACCESS_KEY=your_aws_secret_key
# AWS_REGION=your_aws_region
# AWS_BUCKET_NAME=your_bucket_name

# اختياري: إعدادات بوابة الدفع (إذا كنت تنفذ المدفوعات)
# STRIPE_SECRET_KEY=your_stripe_secret_key
# STRIPE_PUBLISHABLE_KEY=your_stripe_publishable_key

# اختياري: إعدادات بوابة الرسائل القصيرة (إذا كنت تنفذ الرسائل القصيرة)
# TWILIO_ACCOUNT_SID=your_twilio_account_sid
# TWILIO_AUTH_TOKEN=your_twilio_auth_token
# TWILIO_PHONE_NUMBER=your_twilio_phone_number
```

5. تشغيل خادم التطوير للباك إند:
```bash
npm run dev
```

6. تشغيل خادم التطوير للفرونت إند:
```bash
npm start
``` 